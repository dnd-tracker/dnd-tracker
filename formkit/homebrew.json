[
  {
    "$cmp": "FormKit",
    "props": {
      "type": "select",
      "name": "type",
      "label": "components.inputs.typeLabel",
      "placeholder": "components.inputs.nothing",
      "validation": "required",
      "options": "$data.options"
    }
  },
  {
    "$el": "div",
    "if": "$type === 'summon' && $data.encounter",
    "children": [
      {
        "$cmp": "FormKit",
        "props": {
          "type": "select",
          "name": "summoner",
          "label": "components.inputs.summonerLabel",
          "placeholder": "components.inputs.nothing",
          "validation": "required",
          "options": "$data.summoners"
        }
      }
    ]
  },
  {
    "$cmp": "FormKit",
    "props": {
      "name": "name",
      "label": "components.inputs.nameLabel",
      "validation": "required|length:3,30"
    }
  },
  {
    "$cmp": "FormKit",
    "if": "$type === 'player'",
    "props": {
      "name": "player",
      "label": "components.inputs.playerLabel",
      "validation": "length:3,30"
    }
  },
  {
    "$cmp": "FormKit",
    "if": "($type === 'monster' || $type === 'summon') && $data.encounter",
    "props": {
      "name": "amount",
      "type": "number",
      "label": "components.inputs.amountLabel",
      "validation": "between:1,15|number|required"
    }
  },
  {
    "$el": "div",
    "if": "$data.encounter",
    "children": [
      {
        "$cmp": "FormKit",
        "props": {
          "name": "initiative",
          "type": "number",
          "label": "components.inputs.initiativeLabel",
          "validation": "between:1,50|number"
        }
      },
      {
        "$el": "div",
        "attrs": {
          "class": "flex flex-wrap gap-4 mt-3"
        },
        "children": [
          {
            "$el": "button",
            "attrs": {
              "onClick": "$data.rollDice",
              "class": "btn-black grow",
              "type": "button"
            },
            "children": [
              "actions.roll"
            ]
          }
        ]
      }
    ],
    "attrs": {
      "class": "mb-3"
    }
  },
  {
    "$cmp": "FormKit",
    "if": "$type !== 'lair'",
    "props": {
      "name": "ac",
      "type": "number",
      "label": "components.inputs.acLabel",
      "validation": "between:1,100|number"
    }
  },
  {
    "$cmp": "FormKit",
    "if": "$type !== 'lair'",
    "props": {
      "name": "health",
      "type": "number",
      "label": "components.inputs.hpLabel",
      "validation": "between:1,1000|number"
    }
  },
  {
    "$cmp": "FormKit",
    "props": {
      "name": "link",
      "label": "components.inputs.linkLabel",
      "validation": "length:10,200|url"
    }
  },
  {
    "$cmp": "FormKit",
    "props": {
      "type": "list",
      "name": "actions"
    },
    "children": [
      {
        "$el": "div",
        "attrs": {
          "class": "form-list"
        },
        "children": [
          {
            "$cmp": "FormKit",
            "props": {
              "name": "name",
              "label": "components.inputs.nameLabel",
              "validation": "required|length:3,30"
            }
          },
          {
            "$cmp": "FormKit",
            "props": {
              "name": "desc",
              "type": "textarea",
              "label": "desc",
              "validation": "required|length:3,100"
            }
          }
        ]
      }
    ]
  },
  {
    "$cmp": "FormKit",
    "props": {
      "label": {
        "if": "$data.encounter",
        "then": "components.addInitiativeModal.addHomebrew",
        "else": {
          "if": "$data.encounter === false && $data.update === false",
          "then": "components.addInitiativeModal.addHomebrew",
          "else": {
            "if": "$data.update",
            "then": "components.updateInitiativeModal.updateHomebrew"
          }
        }
      },
      "type": "submit",
      "disabled": "$data.isLoading"
    }
  },
  {
    "$el": "p",
    "if": "$data.error",
    "attrs": {
      "class": "text-danger body-small mt-1"
    },
    "children": "$data.error"
  }
]